---
title: "lubridate"
author: "Hannah Hardy"
format: html
editor: visual
---

## Instructions

Complete the following exercises using the `lubridate` and `purrr` packages in R. Ensure that your solutions are optimized and use functional programming principles where applicable.

1.  Load the necessary libraries.

```{r}
#| include: false

library(tidyverse)
```


2.  Answer each question in separate R code chunks.

## Exercise 1: Advanced Date Manipulation with lubridate

### Question 1:

Generate a sequence of dates from **January 1, 2015** to **December 31, 2025**, spaced by every **two months**. Extract the **year**, **quarter**, and **ISO week number** for each date.

```{r}
sequence <- seq(mdy("01-01-2015"), mdy("12-31-2025"), by = "2 months")

sequence %>%
  map(~tibble(date = .x,
              year = year(.x),
              quarter = quarter(.x),
              ISOweek = isoweek(.x))) %>%
  list_rbind()
```


## Exercise 2: Complex Date Arithmetic

### Question 2:

Given the following dates, compute the difference in **months** and **weeks** between each consecutive pair.

```{r}
sample_dates <- c("2018-03-15", "2020-07-20", "2023-01-10", "2025-09-05")

difference <- sample_dates %>%
  tibble(dates = .) %>%
  mutate(monthdiff = interval(dates, lead(dates)) %/% months(1),
        weekdiff = interval(dates, lead(dates)) / dweeks(1)) %>%
  drop_na()
          
difference

```

The differences in months between each consecutive pair in this list--2018-03-15, 
2020-07-20, 2023-01-10, 2025-09-05--are 28, 29, and 31 months. The differences in 
whole weeks in each consecutive pair are 122, 129, and 138 weeks. 

### Question 3:

-   Load the `wmata_ridership` data frame into R from <https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv>. For each month, calculate the proportion of rides made on a given day of the month. Then make box plots of the proportions of ridership vs day of the weak. But exclude any days from 2004 and 2005.

### Question 4:

-   Write only one line of the code to return only the leap years fo years 2024, 3021, 2000 or 1800, 800, 5050, 600 and 7156.
